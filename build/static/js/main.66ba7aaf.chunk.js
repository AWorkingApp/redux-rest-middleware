(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,r){t.exports=r(34)},34:function(t,e,r){"use strict";r.r(e);var n=r(4),a=r(0),o=r.n(a),c=r(1),u=r(11),i=r.n(u),s=[],d=[],f=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){if(!l(t))throw new Error("preInteceptor must be a function or a object");!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1]};s.push(t)}(t)})};var p=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){if(!l(t))throw new Error("postInteceptor must be a function");!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1]};d.push(t)}(t)})};var l=function(t){return"function"===typeof t||null!==t&&"object"===typeof t};var v="REDUX_REST_RESOURCE_GET_RESOURCES",h="REDUX_REST_RESOURCE_GET_RESOURCE",E="REDUX_REST_RESOURCE_POST_RESOURCE",R="REDUX_REST_RESOURCE_PUT_RESOURCE",g="REDUX_REST_RESOURCE_DELETE_RESOURCE",b="REDUX_REST_RESOURCE_CLEAR_RESOURCE_DETAIL",y="REDUX_REST_RESOURCE_CLEAR_RESOURCE_DATA",O="@@/REDUX_REST_RESOURCE/REQUEST_SUCCESS",w="@@/REDUX_REST_RESOURCE/REQUEST_ERROR",S="@@/REDUX_REST_RESOURCE/RUNTIME_ERROR",_="@@/REDUX_REST_RESOURCE/CLEAR_ALL",U={GET:"get",POST:"post",PUT:"put",DELETE:"delete"};function x(t){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(o.a.mark(function t(e){var r,a,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2?c[2]:void 0,t.next=4,C(Object(n.a)({method:U.GET,url:e},r),a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function j(t){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(o.a.mark(function t(e){var r,a,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2?c[2]:void 0,t.next=4,C(Object(n.a)({method:U.POST,url:e},r),a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function D(t){return I.apply(this,arguments)}function I(){return(I=Object(c.a)(o.a.mark(function t(e){var r,a,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2?c[2]:void 0,t.next=4,C(Object(n.a)({method:U.PUT,url:e},r),a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function k(t){return A.apply(this,arguments)}function A(){return(A=Object(c.a)(o.a.mark(function t(e){var r,a,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2?c[2]:void 0,t.next=4,C(Object(n.a)({method:U.DELETE,url:e},r),a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function C(t,e){return L.apply(this,arguments)}function L(){return(L=Object(c.a)(o.a.mark(function t(e,r){var n,a,u,f;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s,a=d,u=e.method,t.next=5,X(n,e,r,u);case 5:return f=t.sent,t.abrupt("return",i()(f).then(function(){var t=Object(c.a)(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(a,e,r,u);case 2:return n=t.sent,t.abrupt("return",{data:n.data,status:n.status});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){throw t}));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function X(){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(o.a.mark(function t(){var e,r,a,c,u,i,s,d,f,p,l,v,h=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=h.length>0&&void 0!==h[0]?h[0]:[],r=h.length>1&&void 0!==h[1]?h[1]:{},a=h.length>2?h[2]:void 0,c=h.length>3?h[3]:void 0,u=Object(n.a)({},r),i=!0,s=!1,d=void 0,t.prev=8,f=e[Symbol.iterator]();case 10:if(i=(p=f.next()).done){t.next=29;break}if(l=p.value,v=void 0,"function"!==typeof l){t.next=19;break}return t.next=16,l(u,a);case 16:v=t.sent,t.next=25;break;case 19:if(!l||null===l||"object"!==typeof l){t.next=25;break}if("function"!==typeof l.interceptor){t.next=25;break}if(!G(l,a,c)){t.next=25;break}return t.next=24,l.interceptor(u,a);case 24:v=t.sent;case 25:v&&(u=v);case 26:i=!0,t.next=10;break;case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(8),s=!0,d=t.t0;case 35:t.prev=35,t.prev=36,i||null==f.return||f.return();case 38:if(t.prev=38,!s){t.next=41;break}throw d;case 41:return t.finish(38);case 42:return t.finish(35);case 43:return t.abrupt("return",u);case 44:case"end":return t.stop()}},t,null,[[8,31,35,43],[36,,38,42]])}))).apply(this,arguments)}var G=function(t,e,r){if(t.resources&&Array.isArray(t.resources)){var n=!0,a=!1,o=void 0;try{for(var c,u=t.resources[Symbol.iterator]();!(n=(c=u.next()).done);n=!0){var i=c.value;if(i.resource===e&&(!i.methods||(Array.isArray(i.methods)&&i.methods.indexOf(r))>-1))return!t.exclude}}catch(s){a=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}if(!t.exclude)return!1}return!0};function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return N(v,t,void 0,e,r)}function Q(t,e,r){return function(t,e,r){if(!e)return{type:w,resource:t,error:r};return{type:w,resource:t,id:e,error:r}}(t,e,r)}function J(t,e,r){return function(t,e,r){if(!e)return{type:S,resource:t,error:r};return{type:S,resource:t,id:e,error:r}}(t,e,r)}function N(t,e,r,n,a){return r?{type:t,resource:e,id:r,options:n,route:a}:{type:t,resource:e,options:n,route:a}}function q(t,e,r,n){return r?{type:O,method:t,resource:e,id:r,payload:n}:{type:O,method:t,resource:e,payload:n}}var H={},z={},B={},F={},K=function(t){t.forEach(function(t){if(!t.url||!t.resource)throw new Error("Resource must have both url and resource specified");!function(t){var e=t.resource,r=t.url;H[e]=function(t,e){return{getAll:function(){var r=Object(c.a)(o.a.mark(function r(){var n,a,c,u=arguments;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},a=u.length>1&&void 0!==u[1]?u[1]:"",c="".concat(e).concat(a),r.next=5,x(c,n,t);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),get:function(){var r=Object(c.a)(o.a.mark(function r(n){var a,c,u,i=arguments;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},c=i.length>2&&void 0!==i[2]?i[2]:"",u="".concat(e).concat(c,"/").concat(n),r.next=5,x(u,a,t);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}(),post:function(){var r=Object(c.a)(o.a.mark(function r(){var n,a,c,u=arguments;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},a=u.length>1&&void 0!==u[1]?u[1]:"",c="".concat(e).concat(a),r.next=5,j(c,n,t);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),put:function(){var r=Object(c.a)(o.a.mark(function r(n){var a,c,u,i=arguments;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},c=i.length>2&&void 0!==i[2]?i[2]:"",u="".concat(e).concat(c,"/").concat(n),r.next=5,D(u,a,t);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}(),delete:function(){var r=Object(c.a)(o.a.mark(function r(n){var a,c,u,i=arguments;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},c=i.length>2&&void 0!==i[2]?i[2]:"",u="".concat(e).concat(c,"/").concat(n),r.next=5,k(u,a,t);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}()}}(e,r);var n=e[0].toUpperCase()+e.substr(1),a={};z["get".concat(n)]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=t.options,a=t.route;return r?function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return N(h,t,e,r,n)}(e,r,n,a):M(e,n,a)},z["getAll".concat(n)]=function(t){var r=t.options,n=t.route;return M(e,r,n)},z["post".concat(n)]=function(t){var r=t.entity,n=t.options,a=t.route;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return r.data=e,N(E,t,void 0,r,n)}(e,r,n,a)},z["put".concat(n)]=function(t){var r=t.id,n=void 0===r?"":r,a=t.entity,o=t.options,c=t.route;return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return n.data=r,N(R,t,e,n,a)}(e,n,a,o,c)},z["delete".concat(n)]=function(t){var r=t.id,n=t.options,a=t.route;return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return N(g,t,e,r,n)}(e,r,n,a)},z["clear".concat(n,"Detail")]=function(){return function(t){return{type:b,resource:t}}(e)},z["clear".concat(n,"Data")]=function(){return function(t){return{type:y,resource:t}}(e)},a["get".concat(n)]=z["get".concat(n)],a["getAll".concat(n)]=z["getAll".concat(n)],a["post".concat(n)]=z["post".concat(n)],a["put".concat(n)]=z["put".concat(n)],a["delete".concat(n)]=z["delete".concat(n)],a["clear".concat(n,"Detail")]=z["clear".concat(n,"Detail")],a["clear".concat(n,"Data")]=z["clear".concat(n,"Data")],B[e]=a,F[e]={data:[],detail:{},loading:!1,total:0}}(t)})};var V=z;function W(){return F}function Y(t,e){var r=B[t],n=t[0].toUpperCase()+t.substr(1),a={};return a["get".concat(n)]=function(t){return e(r["get".concat(n)](t))},a["getAll".concat(n)]=function(t){return e(r["getAll".concat(n)](t))},a["post".concat(n)]=function(t){return e(r["post".concat(n)](t))},a["put".concat(n)]=function(t){return e(r["put".concat(n)](t))},a["delete".concat(n)]=function(t){return e(r["delete".concat(n)](t))},a["clear".concat(n,"Detail")]=function(){return e(r["clear".concat(n,"Detail")]())},a["clear".concat(n,"Data")]=function(){return e(r["clear".concat(n,"Data")]())},a}var Z=r(3);function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Z.a)(Object(n.a)({loading:!1},W())),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case v:case E:return t.set("loading",!0).setIn([e.resource,"loading"],!0);case R:case h:case g:return t.set("loading",!0).setIn([e.resource,"loading"],!0).setIn([e.resource,"detail"],Object(Z.a)({}));case O:return function(t,e){var r,n=t.set("loading",!1).setIn([e.resource,"loading"],!1);e.payload.id?r=n.getIn([e.resource,"data"]).findIndex(function(t){return"".concat(t.get("id"))==="".concat(e.payload.id)}):e.id&&(r=n.getIn([e.resource,"data"]).findIndex(function(t){return t.get("id")===e.id}));switch(e.method){case U.GET:return e.id?n.setIn([e.resource,"detail"],Object(Z.a)(e.payload)):n.setIn([e.resource,"data"],Object(Z.a)(e.payload));case U.POST:return n.updateIn([e.resource,"data"],function(t){return t.push(Object(Z.a)(e.payload))});case U.PUT:return n.getIn([e.resource,"detail","id"])!==e.payload.id&&void 0!==n.getIn([e.resource,"detail","id"])||(n=n.setIn([e.resource,"detail"],Object(Z.a)(e.payload))),r>-1?n.setIn([e.resource,"data",r],Object(Z.a)(e.payload)):n.updateIn([e.resource,"data"],function(t){return t.unshift(Object(Z.a)(e.payload))});case U.DELETE:if(r>-1)return n.deleteIn([e.resource,"data",r]).deleteIn([e.resource,"detail"])}return n}(t,e);case w:case S:return t.set("loading",!1).setIn([e.resource,"loading"],!1);case y:return t.setIn([e.resource,"data"],Object(Z.a)([]));case b:return t.setIn([e.resource,"detail"],Object(Z.a)({}));case _:return Object(Z.a)(Object(n.a)({loading:!1},W()))}return t}var tt=function(t){return function(t){return function(e){var r,n=(r=e.resource,H[r]),a=rt(t,e);switch(t(e),e.type){case h:n.get(e.id,e.options,e.route).then(function(r){return t((n=e.resource,a=e.id,o=r.data,q(U.GET,n,a,o)));var n,a,o},a);break;case v:n.getAll(e.options,e.route).then(function(r){return t((n=e.resource,a=r.data,q(U.GET,n,void 0,a)));var n,a},a);break;case E:n.post(e.options,e.route).then(function(r){return t((n=e.resource,a=r.data,q(U.POST,n,void 0,a)));var n,a},a);break;case R:n.put(e.id,e.options,e.route).then(function(r){return t((n=e.resource,a=e.id,o=r.data,q(U.PUT,n,a,o)));var n,a,o},a);break;case g:n.delete(e.id,e.options,e.route).then(function(r){return t((n=e.resource,a=e.id,o=r.data,q(U.DELETE,n,a,o)));var n,a,o},a)}}}};function et(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!Array.isArray(t))throw new Error("Resources should be an array of resources");if(0===t.length)throw new Error("At least one resource is required");if(K(t),!Array.isArray(e))throw new Error("preInterceptors should be an array of functions");if(f(e),!Array.isArray(r))throw new Error("postInterceptors should be an array of functions");return p(r),tt}var rt=function(t,e){return function(r){var n=r.response,a=r.message;return t(n&&a?Q(e.resource,e.id,{status:n.status,message:a,response:n}):J(e.resource,e.id,r))}};r.d(e,"ResourcesActions",function(){return V}),r.d(e,"getResourceActions",function(){return Y}),r.d(e,"ResourcesReducer",function(){return $}),r.d(e,"createResourceMiddleware",function(){return et}),r.d(e,"METHODS",function(){return U}),r.d(e,"REQUEST_SUCCESS",function(){return O}),r.d(e,"REQUEST_ERROR",function(){return w}),r.d(e,"RUNTIME_ERROR",function(){return S})}},[[12,1,2]]]);
//# sourceMappingURL=main.66ba7aaf.chunk.js.map